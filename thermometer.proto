syntax = "proto3";
option java_multiple_files = true;

package com.thermometer.proto;
option go_package = "github.com/iot-thermometer/server/gen";

import "dto/get-config-dto.proto";
import "dto/login-dto.proto";
import "dto/register-dto.proto";
import "dto/get-devices-dto.proto";
import "dto/add-device-dto.proto";
import "dto/update-device-dto.proto";
import "dto/get-readings-dto.proto";

service ThermometerService {
  rpc Login (LoginRequest) returns (LoginResponse);
  rpc Register (RegisterRequest) returns (RegisterResponse);

  rpc GetDevices (GetDevicesRequest) returns (GetDevicesResponse);
  rpc AddDevice (AddDeviceRequest) returns (AddDeviceResponse);
  rpc UpdateDevice (UpdateDeviceRequest) returns (UpdateDeviceResponse);

  rpc GetReadings (GetReadingsRequest) returns (stream GetReadingsResponse);

  rpc GetConfig (GetConfigRequest) returns (GetConfigResponse);
}